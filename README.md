# Отчет ИДЗ-3 Котков Дмитрий Павлович БПИ213

ВАРИАНТ 32 ЗАДАНИЕ:


  Вторая задача об Острове Сокровищ. Шайка пиратов под предводительством Джона Сильвера высадилась на берег Острова Сокровищ. Не смотря на добытую карту старого Флинта, местоположение сокровищ попрежнему остается загадкой, поэтому искать клад приходится практически на ощупь. Так как Сильвер ходит на деревянной ноге, то самому бродить по джунглям ему не с руки. Джон Сильвер поделил остров на участки, а пиратов на небольшие группы. Каждой группе поручается искать клад на нескольких участках, а сам Сильвер ждет на берегу. Группа пиратов, обшарив один участок, переходит на следующий, еще необследованный. Закончив поиски, пираты возвращаются к Сильверу и докладывают о результатах. Если какая–то из групп находит клад на одном из своих участков, она возвращается к Сильверу, который шлет попугая, инициализирующего прекращение (прерывание) всех работ. Требуется создать приложение, моделирующее действия Сильвера и пиратов.Сервер — Сильвер, Каждая из групп пиратов — клиент.





# Реализовано:

- Приложение-сервер server.c
  Эта программа иммитирует работу Сильвера: высылает своим командам карту с описанием, где лежат сокровища.
  
  
  В процессе поиска клада одна из команд может обнаружить клад раньше остальных. Поэтому для корректной обработки всех случаев сервер был реализован при помощи многопроцессорной архитектуры: для каждого клиента выделяется свой процесс, который прослушает его сообщения, и если он находит клад быстрее остальных, то всем клиентам высылается соответствующее сообщение, а остальные процессы прерываются.
  
  
- Приложение-клиент client.c
  Эта программа реализует работу команд Сильвера: обыскивают местность и сообщают о нахождении клада.
  
  Аналогичным образом был реализован и клиент, поскольку для корректной работы нам необходимо знать, когда именно пришло  сообщение от сервера с требованием прекратить работу: для этого клиент запускает два дочерних процесса: один для того, чтобы слушать сообщения от сервера, другой - чтобы реализовывать иммитацию проверки области на наличия клада.
  
# Сценарий выполнения:

  Клиенты взаимодействуют с сервером, подключаясь к нему через передачу сообщений. Сервер прослушивает подключения от всех клиентов и затем после подключения всех клиентов каждому из них отправляет задания(массивы данных) по обыску определенных участков местности. После получения сообщения о найденном кладе сервер осуществляет рассылку всем клиентам, сообщая им о том, что клад был найден, и отправляет сообщение с указанием завершить работу.
